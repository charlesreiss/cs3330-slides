\begin{frame}{AT\&T syntax in one slide}
    \begin{itemize}
    \item destination \myemph{last}
    \item {\tt ()} means value \myemph{in memory}
    \item {\tt disp(base, index, scale)} same as \\ {\tt memory[disp + base + index * scale]}
        \begin{itemize}
        \item omit disp (defaults to {\tt 0})
        \item and/or omit base (defaults to {\tt 0})
        \item and/or scale (defualts to {\tt 1})
        \end{itemize}
    \item {\tt \$} means constant
    \item plain number/label means value in memory
    \end{itemize}
\end{frame}

\begin{frame}[fragile,label=att2e1]{AT\&T syntax example (1)}
\lstset{
    language=[x8664gas]Assembler,
    %moredelim=**[is][\color{green!60!black}]{@1*}{*@},
    moredelim=**[is][\btHL<1|handout:0>]{@1*}{*@},
    moredelim=**[is][\btHL<2|handout:0>]{@2*}{*@},
    moredelim={**[is][\btHL<2,4|handout:0>]{@24*}{*@}},
    moredelim=**[is][\btHL<3|handout:0>]{@3*}{*@},
    moredelim=**[is][\btHL<4|handout:0>]{@4*}{*@},
    moredelim=**[is][\btHL<5|handout:0>]{@5*}{*@},
    moredelim=**[is][\btHL<6|handout:0>]{@6*}{*@},
    escapechar=`,
}
\begin{lstlisting}
mov@5*q*@ @3*$42*@, @2*(*@@24*%rbx*@@2*)*@
// memory[rbx] <- 42
\end{lstlisting}
    \begin{itemize}
    \item \myemph<2>{destination last}
    \item {\tt ()}s represent value \myemph<2>{in memory}
    \item \myemph<3>{constants} start with {\tt \$}
    \item \myemph<4>{registers} start with {\tt \%}
    \item {\tt q} (`quad') indicates \myemph<5>{length} (8 bytes)
    \begin{itemize}\item {\tt l}: 4; {\tt w}: 2; {\tt b}: 1
                   \item sometimes can be omitted\end{itemize}
    \end{itemize}
\end{frame}

