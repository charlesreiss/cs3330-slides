\begin{frame}{making any cache look bad}
    \begin{itemize}
    \item 1. access enough blocks, to fill the cache
    \item 2. access an additional block, replacing something
    \item 3. access last block replaced
    \item 4. access last block replaced
    \item 5. access last block replaced
    \item \ldots
        \vspace{.5cm}
    \item but --- typical real programs have \myemph{locality}
    \end{itemize}
\end{frame}

\begin{frame}{cache optimizations}
(assuming typical locality\ldots)
\newcommand{\good}{\textcolor{green!50!black}{better}}
\newcommand{\bad}{\textcolor{red!50!black}{worse}}
\begin{tabular}{llll}
~ & miss rate & hit time & miss penalty \\
increase cache size & \good & \bad & --- \\
increase associativity & \good & \bad & \bad? \\
increase block size & depends & \bad & \bad \\
add secondary cache & --- & --- & \good \\
write-allocate & \good & --- & ? \\
writeback & --- & --- & ? \\
LRU replacement & \good & ? & \bad? \\
prefetching & \good & --- & --- \\
\multicolumn{4}{l}{\small prefetching = guess what program will use, access in advance}
\end{tabular}
\[
\text{average time} = \text{hit time} + \text{miss rate} \times \text{miss penalty}
\]
\end{frame}

\begin{frame}{cache optimizations by miss type}
\newcommand{\good}{\textcolor{green!50!black}{fewer misses}}
\newcommand{\bad}{\textcolor{red!50!black}{more misses}}
(assuming other listed parameters remain constant)
\begin{tabular}{llll}
    ~ & capacity & conflict & compulsory \\
increase cache size & \good & \good & --- \\
increase associativity & --- & \good & --- \\
increase block size & \bad? & \bad? & \good \\
~ \\
LRU replacement & --- & \good & --- \\
prefetching & --- & --- & \good \\
\end{tabular}
\end{frame}

